<script type="text/ng-template" id="group-template.html">
  <div class="panel panel-default"uib-accordion-transclude="heading">
    <div ng-click="toggleOpen()" uib-accordion-header>
      {{heading}}
    </div>
    <div class="panel-collapse collapse" uib-collapse="!isOpen">
      <div class="panel-body" ng-transclude></div>
    </div>
  </div>
</script>

<div class="sidebar sidebar-default sidebar-inverse" dir="ltr" ng-transclude>
  <div class="sidebar-fold" ng-click="toggled($event)"><div class="sidebar-fold-fa"><i class="fa fa-fw fa-bars"></i></div></div>
  <div class="sidebar-wrapper">
    <uib-accordion class="sidebar-accordion" dir="ltr" close-others="false">
      <div class="panel-default" ng-repeat="group in groups" uib-accordion-group is-open="true" template-url="group-template.html">
        <uib-accordion-heading>
          <div class="panel-heading" ng-class="{main: group.items && group.items.length != 0}" uib-tooltip="{{group.title}}" tooltip-enable="{{tooltipEnable}}" tooltip-append-to-body="true" tooltip-placement="right">
            <h4 class="panel-title" ng-click="itemClick($event, group)">
              <a href tabindex="0" class="accordion-toggle" >
                <span ng-class="{'text-muted': isDisabled}">
                  <i class="fa fa-fw {{group.icon}}"></i><span class="nav-title"> {{group.title}}</span>
                  <span class="pull-right config" ng-if="group.items && group.items.length != 0" ng-click="groupConfig($event)" uib-tooltip="自定义{{group.title}}" tooltip-enable="{{!tooltipEnable}}" tooltip-append-to-body="true" tooltip-placement="right"><i class="fa fa-fw fa-cog"></i></span>
                </span>
              </a>
            </h4>
          </div>
        </uib-accordion-heading>
        <div ng-if="group.items && group.items.length != 0" class="panel-default" ng-repeat="item in group.items" uib-accordion-group is-open="true" template-url="group-template.html">
          <uib-accordion-heading>
            <div class="panel-heading" uib-tooltip="{{item.title}}" tooltip-enable="{{tooltipEnable}}" tooltip-append-to-body="true" tooltip-placement="right">
              <h4 class="panel-title" ng-click="itemClick($event, item)">
                <a href tabindex="0" class="accordion-toggle">
                  <span ng-class="{'text-muted': isDisabled}">
                    <i class="fa fa-fw {{item.icon}}"></i><span class="nav-title"> {{item.title}}</span>
                  </span>
                </a>
              </h4>
            </div>
          </uib-accordion-heading>
        </div>
      </div>
    </uib-accordion>
  </div>

</div>
